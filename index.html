<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>multistep form</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Smooch+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <form action="" method="post" autocomplete="off">
      <div class="center">
        <span class="step" id="step-1">1</span>
        <span class="step" id="step-2">2</span>
        <span class="step" id="step-3">3</span>
      </div>

      <div class="tab" id="tab-1">
        <p class="heading-lg">RESOURCE</p>
        <div class="input-wrapper">
          <span>*</span>
          <input type="text" placeholder="TITLE" name="title" class="a" />
        </div>

        <p class="heading margin-top">Please select the options</p>
        <div class="input-wrapper">
          <span>*</span>
          <select class="select a margin-bottom" name="type" required>
            <option>SELECT ONE</option>
            <option value="1">Checklist</option>
            <option value="2">Drill, Tabletop, or Other Exercise</option>
            <option value="3">Form</option>
            <option value="4">Job Description</option>
            <option value="5">Memorandum of Understanding (MOU)</option>
            <option value="6">Organization Chart</option>
            <option value="7">Planning Guideline</option>
            <option value="8">Procedure</option>
            <option value="9">Report</option>
            <option value="10">School Policy</option>
            <option value="11">Template</option>
            <option value="12">Tool</option>
            <option value="13">Other</option>
          </select>
        </div>
        <br />
        <textarea
          name="textar"
          id="textar"
          cols="30"
          rows="5"
          class="a"
          placeholder="Please enter the details as much as possible"
        ></textarea>

        <input type="file" name="file" class="a border input-font" />

        <div class="underline"></div>
        <p class="margin-top">
          Alison, I think this is what you are looking for but we will need to
          discuss.
        </p>

        <div class="opencheck">
          <input type="checkbox" id="check1" />
          <p>CheckList</p>
        </div>

        <div id="opennewtextarea">
          <textarea
            id="moreinfo"
            name="additionalInfo"
            rows="4"
            placeholder="Please enter the further details"
          ></textarea>
          <input type="file" />
        </div>

        <div class="index-btn-wrapper">
          <div class="index-btn" onclick="run(1,2);">Next</div>
        </div>
      </div>

      //SECOND STEP
      <div class="tab" id="tab-2">
        <p class="heading-lg margin-top">AUTHORITY AGENCY</p>
        <input
          type="text"
          placeholder="Organization"
          name="Organization"
          class="a"
        />
        <input
          type="text"
          placeholder="Orgaization Website URL"
          name="weburl"
          class="a"
        />
        <p class="heading margin-top margin-bottom">Grantee Status</p>
        <p class="margin-bottom">
          Is your agency a current or former Grants to States for School
          Emergency Management (GSEM), Readiness and Emergency Management for
          Schools (REMS), or Emergency Management for Higher Education (EMHE)
          grantee?
        </p>

        <p>My agency is a current GSEM grantee.</p>
        <div class="radio-wrapper">
          <div class="radio">
            <input type="radio" class="radio1" data-radioid="first" name="ab" />
            <span for="ab">Yes</span>
          </div>
          <div class="radio">
            <input type="radio" class="radio2" name="ab" data-radioid="first" /> <span>No</span>
          </div>
        </div>

        <div class="newinputboxes" data-id="first">
          <input type="text" placeholder="Grantee Number" />
          <input type="text" placeholder="Grantee Award" />
        </div>

        <p class="margin-top">My agency is a former GSEM grantee.</p>
        <div class="radio-wrapper">
          <div class="radio">
            <input
              type="radio"
              class="radio1"
              data-radioid="second"
              name="bc"
            />
            <span>Yes</span>
          </div>
          <div class="radio">
            <input type="radio" class="radio2"  name="bc" data-radioid="second"/> <span>No</span>
          </div>
        </div>

        <div class="newinputboxes" data-id="second">
          <input type="text" placeholder="Grantee Number" />
          <input type="text" placeholder="Grantee Award" />
        </div>

        <p class="margin-top">My agency is a former REMS grantee.</p>
        <div class="radio-wrapper">
          <div class="radio">
            <input type="radio" class="radio1" data-radioid="third" name="de" />
            <span>Yes</span>
          </div>
          <div class="radio">
            <input type="radio" class="radio2" name="de" data-radioid="third"/> <span></span>No</span>
          </div>
        </div>

        <div class="newinputboxes" data-id="third">
          <input type="text" placeholder="Grantee Number" />
          <input type="text" placeholder="Grantee Award" />
        </div>


        <div class="confirm-check margin-top">
          <input type="checkbox" />
          <p>
            No, my agency is not a current or former GSEM, REMS, or EMHE
            grantee.
          </p>
        </div>

        <div class="index-btn-wrapper">
          <div class="index-btn" onclick="run(2,1);">Previous</div>
          <div class="index-btn" onclick="run(2,3);">Next</div>
        </div>
      </div>

      //THIRD STEP
      <div class="tab" id="tab-3">
        <p class="heading-lg margin-top">Submission and Authorization</p>

        <p class="heading margin-top margin-bottom">Terms of Submission</p>

        <div class="confirm-check">
          <input type="checkbox" />
          <p>
            No, my agency is not a current or former GSEM, REMS, or EMHE
            grantee.
          </p>
        </div>
        <div class="confirm-check">
          <input type="checkbox" />
          <p>
            No, my agency is not a current or former GSEM, REMS, or EMHE
            grantee.
          </p>
        </div>

        <div class="input-wrapper">
          <span>*</span
          ><input type="text" placeholder="FIRST NAME" name="Fname" class="a" />
        </div>

        <div class="input-wrapper">
          <span>*</span
          ><input type="text" placeholder="LAST NAME" name="Lname" class="a" />
        </div>
        <div class="input-wrapper">
          <span>*</span
          ><input
            type="text"
            placeholder="ORGANIZATION"
            name="orgazation1"
            class="a"
          />
        </div>
        <div class="input-wrapper">
          <span>*</span
          ><input type="text" placeholder="TITLE" name="title1" class="a" />
        </div>
        <div class="input-wrapper">
          <span>*</span
          ><input type="text" placeholder="Phone" name="phone" class="a" />
        </div>
        <div class="input-wrapper">
          <span>*</span
          ><input
            type="text"
            placeholder="WORK EMAIL"
            name="w-email"
            class="a"
            required
          />
        </div>
        <div class="index-btn-wrapper">
          <div class="index-btn" onclick="run(3,2);">Previous</div>
          <div class="index-btn" onclick="doalert(3,4);">Submit</div>
        </div>
      </div>
    </form>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
      //default tab
      $(".tab").css("display", "none");
      $("#tab-1").css("display", "block");

      function run(hideTab, showTab) {
        if (hideTab < showTab) {
          //if press next button
          //validation
          var currentTab = 0;
          x = $("#tab-" + hideTab);
          y = $(x).find(".a");
          //   z = $(x).find("select");
          for (i = 0; i < y.length; i++) {
            if (y[i].value == "") {
              $(y[i]).css("background", "#ffdddd");

              return false;
            }
          }
        }

        //Progress bar

        for (i = 0; i < showTab; i++) {
          $("#step-" + i).css("opacity", "1");
        }

        //Switch tab
        $("#tab-" + hideTab).css("display", "none");
        $("#tab-" + showTab).css("display", "block");
        $("input").css("background", "#fff");
      }

      // Show/hide textarea based on checkbox state
      $("#check1").change(function () {
        if ($(this).prop("checked")) {
          $("#opennewtextarea").show();
        } else {
          $("#opennewtextarea").hide();
        }
      });

      //alert

      function doalert() {
        alert(
          "Form has been submitted sucessfully. You will get a response soon"
        );
      }

      //following code works with the radio button. Once we click on radio button yes, it toggles the input boxex
      $(".radio1").on("click", function () {
        var radioid = $(this).data("radioid");
        if (radioid === "first") {
          $(".newinputboxes").eq(0).toggleClass("newinputboxes-show");
        } else if (radioid === "second") {
          $(".newinputboxes").eq(1).toggleClass("newinputboxes-show");
        } else if (radioid === "third") {
          $(".newinputboxes").eq(2).toggleClass("newinputboxes-show");
        }
      });

         $(".radio2").on("click", function () {
        var radioid = $(this).data("radioid");
        if (radioid === "first") {
          $(".newinputboxes").eq(0).hide("newinputboxes-show");
        } else if (radioid === "second") {
          $(".newinputboxes").eq(1).hide("newinputboxes-show");
        } else if (radioid === "third") {
          $(".newinputboxes").eq(2).hide("newinputboxes-show");
        }
      });
    </script>
  </body>
</html>
